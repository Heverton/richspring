<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:rich="http://richfaces.org/rich">


    <rich:hotKey key="esc">
        <rich:componentControl target="messagesPanel" operation="hide"/>
    </rich:hotKey>

    <rich:popupPanel id="messagesPanel" minWidth="300" resizeable="false" moveable="false" zindex="2005"
                     autosized="true"
                     onshow="setTimeout(function() {#{rich:component('messagesPanel')}.hide(); return false;}, 3000);"
                     show="#{not empty facesContext.maximumSeverity}">

        <f:facet name="header">
            <h:outputText value="#{msg['template.messages.header.title']}"/>
        </f:facet>
        <f:facet name="controls">
            <h:outputLink value="#" onclick="#{rich:component('messagesPanel')}.hide(); return false;">
                <h:graphicImage library="img" name="#{msg['template.messages.img']}" title="#{msg['lbl.close']}"/>
            </h:outputLink>
        </f:facet>

        <h:form>
            <rich:messages id="_messages" styleClass="message" ajaxRendered="true"/>
        </h:form>
    </rich:popupPanel>

</ui:composition>

